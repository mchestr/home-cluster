---
- name: Configure DHCP Global PXE booting
  vars:
    prefix: set service dns forwarding
  community.network.edgeos_config:
    lines:
      - "{{ prefix }} options enable-tftp"
      - "{{ prefix }} options tftp-root=/config/user-data/tftproot"

- name: Configure Sidero PXE booting
  vars:
    prefix: set service dhcp-server shared-network-name LAN subnet 192.168.1.0/24
  community.network.edgeos_config:
    lines:
      - "{{ prefix }} bootfile-server 192.168.1.195"
      - "{{ prefix }} bootfile-name undionly.kpxe"
